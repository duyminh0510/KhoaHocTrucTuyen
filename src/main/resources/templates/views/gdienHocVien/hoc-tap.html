<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªçc t·∫≠p - [[${khoaHoc.tenKhoaHoc}]]</title>
    <link rel="stylesheet" href="/css/hocVien/hoc-tap.css">
</head>
<body>
    <div class="hoc-tap-container">
        <!-- Header kh√≥a h·ªçc -->
        <div class="course-header">
            <div class="course-info">
                <img th:src="@{'/photos/' + ${khoaHoc.anhBia}}" alt="·∫¢nh kh√≥a h·ªçc" class="course-thumb" />
                <div class="course-details">
                    <h1 th:text="${khoaHoc.tenKhoaHoc}">T√™n kh√≥a h·ªçc</h1>
                    <p th:text="${khoaHoc.moTa}">M√¥ t·∫£ kh√≥a h·ªçc</p>
                    <div class="course-stats">
                        <span><i class="fas fa-play"></i> [[${khoaHoc.soBaiGiang}]] b√†i gi·∫£ng</span>
                        <span><i class="fas fa-question-circle"></i> [[${khoaHoc.soBaiTap}]] b√†i t·∫≠p</span>
                        <span><i class="fas fa-clock"></i> [[${khoaHoc.thoiGianHoc}]]</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- N·ªôi dung kh√≥a h·ªçc -->
        <div class="course-content">
            <div class="content-sidebar">
                <h3>N·ªôi dung kh√≥a h·ªçc</h3>
                <div class="chapter-list">
                    <div class="chapter" th:each="chuong, iter : ${chuongList}">
                        <div class="chapter-header" th:attr="onclick='toggleChapter(' + ${iter.index} + ')'">
                            <span class="chapter-title" th:text="${chuong.tenChuong}">T√™n ch∆∞∆°ng</span>
                            <span class="chapter-toggle">‚ñº</span>
                        </div>
                        <div class="lesson-list" th:attr="id='chapter-' + ${iter.index}">
                            <div class="lesson-item" th:each="baiHoc : ${chuong.baiHocList}">
                                <div class="lesson-info">
                                    <span class="lesson-icon" th:if="${baiHoc.loai == 'baiGiang'}">üìπ</span>
                                    <span class="lesson-icon" th:if="${baiHoc.loai == 'baiTap'}">üìù</span>
                                    <span class="lesson-title" th:text="${baiHoc.tenBai}">T√™n b√†i</span>
                                    <span class="lesson-duration" th:if="${baiHoc.loai == 'baiGiang'}" th:text="${baiHoc.thoiGian} + ' ph√∫t'"></span>
                                    <span class="lesson-duration" th:if="${baiHoc.loai == 'baiTap'}" th:text="${baiHoc.soCau} + ' c√¢u'"></span>
                                </div>
                                <div class="lesson-status">
                                    <span class="status-completed" th:if="${baiHoc.loai == 'baiGiang' and baiHoc.daXem == true}">‚úì</span>
                                    <span class="status-completed" th:if="${baiHoc.loai == 'baiTap' and baiHoc.daLam == true}">‚úì</span>
                                    <span class="status-pending" th:if="${baiHoc.loai == 'baiGiang' and baiHoc.daXem == false}">‚óã</span>
                                    <span class="status-pending" th:if="${baiHoc.loai == 'baiTap' and baiHoc.daLam == false}">‚óã</span>
                                </div>
                                <div class="lesson-actions">
                                    <a th:if="${baiHoc.loai == 'baiGiang'}" 
                                       th:href="@{'/hoc-tap/bai-giang/' + ${baiHoc.id}}" 
                                       class="btn-watch">Xem</a>
                                    <a th:if="${baiHoc.loai == 'baiTap'}" 
                                       th:href="@{'/hoc-tap/bai-tap/' + ${baiHoc.id}}" 
                                       class="btn-quiz">L√†m b√†i</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-main">
                <div class="welcome-section">
                    <h2>Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi kh√≥a h·ªçc!</h2>
                    <p>B·∫Øt ƒë·∫ßu h·ªçc ngay b·∫±ng c√°ch ch·ªçn b√†i gi·∫£ng ho·∫∑c b√†i t·∫≠p t·ª´ danh s√°ch b√™n tr√°i.</p>
                    <div class="progress-section">
                        <h3>Ti·∫øn ƒë·ªô h·ªçc t·∫≠p</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 25%"></div>
                        </div>
                        <span class="progress-text">25% ho√†n th√†nh</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleChapter(index) {
            const chapter = document.getElementById('chapter-' + index);
            const toggle = event.currentTarget.querySelector('.chapter-toggle');
            
            if (chapter.style.display === 'none' || chapter.style.display === '') {
                chapter.style.display = 'block';
                toggle.textContent = '‚ñº';
            } else {
                chapter.style.display = 'none';
                toggle.textContent = '‚ñ∂';
            }
        }

        // M·ªü ch∆∞∆°ng ƒë·∫ßu ti√™n m·∫∑c ƒë·ªãnh
        document.addEventListener('DOMContentLoaded', function() {
            toggleChapter(0);
        });
    </script>
</body>
</html> 