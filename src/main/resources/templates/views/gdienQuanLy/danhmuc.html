<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
  th:replace="~{/views/gdienChung/templateChung.html :: view(~{::main}, ~{::title})}">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh mục khóa học</title>
  </head>

  <body>
    <main class="danhmuc">
      <div class="container">
        <h2 class="mb-4 mt-5">Quản lý danh mục khóa học</h2>

        <form class="form-danh-muc mb-5"
          th:action="@{${danhmuc.danhmucId} != null ? '/quanly-danh-muc/edit' : '/quanly-danh-muc/them-moi'}"
          th:object="${danhmuc}" method="post">

          <div th:if="${danhmuc.danhmucId != null}">
            <input type="hidden" th:field="*{danhmucId}" />
          </div>

          <div class="mb-3">
            <label class="form-label">Tên danh mục</label>
            <input type="text" class="form-control" th:field="*{tenDanhMuc}"
              placeholder="Nhập tên danh mục" required />
          </div>

          <button type="submit" class="btn btn-primary"
            th:text="${danhmuc.danhmucId != null} ? 'Cập nhật' : 'Thêm'">
            Thêm
          </button>
        </form>

        <div th:if="${#lists.isEmpty(danhmucs)}" class="alert alert-info">
          Không có danh mục nào
        </div>

        <div th:if="${!#lists.isEmpty(danhmucs)}">
          <table class="table table-bordered table-hover bang-danh-muc mb-5">
            <thead class="table-light">
              <tr>
                <th>ID</th>
                <th>Tên danh mục</th>
                <th>Ngày tạo</th>
                <th>Cập nhật</th>
                <th>Trạng thái</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="dm : ${danhmucs}">
                <td th:text="${dm.danhmucId}">1</td>
                <td th:text="${dm.tenDanhMuc}">Tên</td>
                <td th:text="${dm.ngayTao}">Ngày tạo</td>
                <td>
                  <a class="btn btn-sm btn-warning"
                    th:href="@{'/quanly-danh-muc/edit/' + ${dm.danhmucId}}">Cập
                    nhật</a>
                </td>
                <td>
                  <a th:if="${dm.isDeleted}" class="btn btn-danger"
                    th:href="@{|/quanly-danh-muc/vo-hieu-hoa/${dm.danhmucId}|}">Vô
                    hiệu hóa</a>

                  <a th:unless="${dm.isDeleted}" class="btn btn-success"
                    th:href="@{|/quanly-danh-muc/kich-hoat/${dm.danhmucId}|}">Kích
                    hoạt</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </main>
  </body>

</html>