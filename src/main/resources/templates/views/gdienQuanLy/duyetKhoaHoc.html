<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi"
    th:replace="~{/views/gdienChung/templateChung.html::view(~{::main}, ~{::title})}">

    <head>
        <title>Danh sách Khóa học cần phê duyệt</title>
        <meta charset="UTF-8" />
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
        <style>
         :root {
            --main-color: #0b1c36;
            --main-gradient: linear-gradient(90deg, #0b1c36 0%, #1976d2 100%);
            --table-bg: #fff;
            --table-row-hover: #f1f7ff;
            --table-border: #e3e6ed;
        }
        
        h2 {
            color: var(--main-color);
            font-weight: 700;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }
        
        .table-wrapper {
            background: var(--table-bg);
            padding: 32px 24px 28px 24px;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(25, 118, 210, 0.1), 0 1.5px 4px rgba(11, 28, 54, 0.08);
            margin-bottom: 32px;
            transition: box-shadow 0.3s;
        }
        
        .table-wrapper:hover {
            box-shadow: 0 12px 40px rgba(25, 118, 210, 0.16), 0 2px 8px rgba(11, 28, 54, 0.1);
        }
        
        .table-responsive {
            border-radius: 12px;
            overflow: hidden;
        }
        
        table.table {
            font-size: 15px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 0;
        }
        
        thead tr {
            background: var(--main-gradient);
            color: #fff;
            font-size: 16px;
            letter-spacing: 0.5px;
        }
        
        th,
        td {
            vertical-align: middle !important;
            border-color: var(--table-border) !important;
            padding: 12px 14px !important;
        }
        
        tbody tr {
            transition: background 0.2s;
        }
        
        tbody tr:hover {
            background: var(--table-row-hover);
        }
        
        .btn {
            padding: 6px 16px;
            margin: 2px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);
            transition: background 0.2s, box-shadow 0.2s, transform 0.15s;
        }
        
        .btn-view {
            background: linear-gradient(90deg, #1976d2 0%, #42a5f5 100%);
            color: white;
        }
        
        .btn-view:hover {
            background: linear-gradient(90deg, #1565c0 0%, #1976d2 100%);
            color: #fff;
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.16);
        }
        
        @media (max-width: 768px) {
            .table-wrapper {
                padding: 16px 4px 12px 4px;
                border-radius: 10px;
            }
            th,
            td {
                padding: 8px 6px !important;
                font-size: 13px;
            }
            h2 {
                font-size: 1.2rem;
            }
        }
    </style>
    </head>

    <body>
        <main class="container my-5">
            <div class="table-wrapper">
                <h2>Danh sách Khóa học cần phê duyệt</h2>
                <div class="table-responsive">
                    <table
                        class="table table-bordered align-middle text-center">
                        <thead>
                            <tr>
                                <th>Tên Khóa học</th>
                                <th>Giá Gốc</th>
                                <th>Giá KM</th>
                                <th>Trạng thái</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="khoaHoc : ${danhSach}">
                                <td th:text="${khoaHoc.tenKhoaHoc}">Tên KH</td>
                                <td
                                    th:text="${#numbers.formatDecimal(khoaHoc.giagoc, 0, 'COMMA', 0, 'POINT')} + ' ₫'">
                                    0 ₫
                                </td>
                                <td
                                    th:text="${#numbers.formatDecimal(khoaHoc.giaKhuyenMai, 0, 'COMMA', 0, 'POINT')} + ' ₫'">
                                    0 ₫
                                </td>
                                <td th:text="${khoaHoc.trangThai}">Trạng
                                    thái</td>
                                <td>
                                    <!-- Giả sử bạn truy cập theo /admin/ hoặc /nhanvien/ -->
                                    <!-- Nếu là ADMIN thì hiện nút này -->
                                    <a
                                        th:href="@{/admin/{id}(id=${khoaHoc.khoahocId})}"
                                        class="btn btn-view"
                                        sec:authorize="hasRole('ADMIN')">
                                        Xem chi tiết
                                    </a>

                                    <!-- Nếu là NHÂN VIÊN thì hiện nút này -->
                                    <a
                                        th:href="@{/nhanvien/{id}(id=${khoaHoc.khoahocId})}"
                                        class="btn btn-view"
                                        sec:authorize="hasRole('NHANVIEN')">
                                        Xem chi tiết
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </body>

</html>