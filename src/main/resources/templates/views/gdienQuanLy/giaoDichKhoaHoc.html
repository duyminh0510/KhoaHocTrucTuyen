<!DOCTYPE html>
<html lang="vi"
    th:replace="~{/views/gdienChung/templateChung.html::view(~{::main}, ~{::title})}">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Qu·∫£n l√Ω giao d·ªãch kho√° h·ªçc</title>
    </head>

    <body>
        <main class="giaodich">
            <div class="container py-4">
                <h2 class="mb-4 fw-bold text-primary-custom">üí≥ Qu·∫£n l√Ω giao
                    d·ªãch kho√° h·ªçc</h2>
                <div class="table-responsive">
                    <table
                        class="table table-hover align-middle table-transaction">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>H·ªçc vi√™n</th>
                                <th>Email</th>
                                <th>Ng√†y giao d·ªãch</th>
                                <th>H√¨nh th·ª©c</th>
                                <th>T·ªïng ti·ªÅn</th>
                                <th>Tr·∫°ng th√°i</th>
                                <th>Kh√≥a h·ªçc</th>
                                <th>Chi ti·∫øt</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="gd : ${listGiaoDich}">
                                <td th:text="${gd.giaodichId}"></td>
                                <td th:text="${gd.tenhocvien}"></td>
                                <!-- <td th:text="${gd.email}"></td> -->
                                <td th:text="${gd.taikhoan.email}"></td>
                                <td th:text="${gd.ngayGiaoDich}"></td>
                                <td th:text="${gd.hinhThucThanhToan}"></td>
                                <td
                                    th:text="${#numbers.formatDecimal(gd.tongtien, 0, 'COMMA', 2, 'POINT')} + ' ƒë'"></td>
                                <td>
                                    <span th:classappend="
                                ${gd.trangthai} == 'HOAN_THANH' ? 'badge badge-success' :
                                (${gd.trangthai} == 'CHO_XU_LY' ? 'badge badge-warning' : 'badge badge-danger')"
                                        th:text="${gd.trangthai}">
                                    </span>
                                </td>
                                <td>
                                    <ul style="list-style: none; padding: 0;">
                                        <li th:each="ct : ${gd.chiTietGiaoDich}" th:text="${ct.khoahoc?.tenKhoaHoc}"></li>
                                    </ul>
                                </td>
                                <td>
                                    <a th:href="@{/{base}/quanly-giao-dich/{id}(base=${basePath}, id=${gd.giaodichId})}"
   class="btn btn-sm btn-outline-info">Xem</a>


                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </body>

</html>